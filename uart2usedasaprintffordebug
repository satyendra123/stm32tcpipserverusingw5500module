Note- isme kya hai ki hume cubeMX me jakar pahle sys me jakar debug me serial wire krenge uske bad hum check krenge system wake up, aur Timebase source me hum SysTick ko select krenge.
so aisa karne se controller me pin select hota hai. PA0(SYS_WKUP), PA13(TMS), PA14(TCK), and for the serial wire one pin is selected which is PB3(SWO).

(ii) for the RCC we select HSE-BYPASS Clock Source, LSE- Crystal/Ceramic Resonant, PC14-OSC32-IN(RCC_OSC32_IN), PC14-OSC32-IN(RCC_OSC32_IN) , PH0-OSC-IN(RCC_OSC_IN) , PH1-OSC-OUT(RCC_OSC_OUT)

(iii) go to the connectivity for the selection of uart2. PA2(USART_TX), PA3(USART_RX)

method-1
#include "main.h"

UART_HandleTypeDef huart2;

void SystemClock_Config(void);
static void MX_GPIO_Init(void);
static void MX_USART2_UART_Init(void);

// Redirect printf to UART
int _write(int file, char *ptr, int len)
{
    HAL_UART_Transmit(&huart2, (uint8_t *) ptr, len, HAL_MAX_DELAY);
    return len;
}

int main(void)
{
  HAL_Init();
  SystemClock_Config();
  MX_GPIO_Init();
  MX_USART2_UART_Init();

  uint32_t count = 0;
  printf("SWV Print Started...\r\n");

  while (1)
  {
      count++;
      printf("Count = %lu\r\n", count);
      HAL_Delay(500);
  }
}

Method-2
#include "main.h"
#include <stdio.h>

UART_HandleTypeDef huart2;
void SystemClock_Config(void);
static void MX_GPIO_Init(void);
static void MX_USART2_UART_Init(void);
int __io_putchar(int ch);

int __io_putchar(int ch){
   HAL_UART_Transmit(&huart2,(uint8_t*)&ch,1,HAL_MAX_DELAY);
   return ch;
}

int main(void)
{
  HAL_Init();
  SystemClock_Config();
  MX_GPIO_Init();
  MX_USART2_UART_Init();

  uint32_t count = 0;
  printf("SWV Print Started...\r\n");

  while (1)
  {
      count++;
      printf("Count = %lu\r\n", count);
      HAL_Delay(500);
  }
}
