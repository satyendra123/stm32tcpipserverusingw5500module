EX-1 this code is used for transmit the data to the docklight directly with the power cable because its uart2 is directly connected to the usb
#include "main.h"

void SystemClock_Config(void);
static void MX_GPIO_Init(void);
static void MX_USART2_UART_Init(void);

uint8_t tx_data[6]="Hello";

int main(void)
{
  HAL_Init();
  SystemClock_Config();
  MX_GPIO_Init();
  MX_USART2_UART_Init();

  while (1)
  {
     HAL_UART_Transmit(&huart2,tx_data,5,10);
     HAL_Delay(1000);
  }
}

EX-2 this code is used for Receiving the data from the docklight directly with the power cable and toggle the led when hi is coming from the docklight. so jab ek bar hi bhejunga to led turn on hoga aur jab dusri bar hi bhejunga to led turn off hoga
#include "main.h"

void SystemClock_Config(void);
static void MX_GPIO_Init(void);
static void MX_USART2_UART_Init(void);

uint8_t rx_buffer[3];

int main(void)
{
  HAL_Init();
  SystemClock_Config();
  MX_GPIO_Init();
  MX_USART2_UART_Init();

  while (1)
  {
     HAL_UART_Receive(&huart2,rx_buffer,2,10);
     if((rx_buffer[0]=='H')&&(rx_buffer[0]=='I'))
      {
        HAL_GPIO_TogglePin(GPIOA,GPIO_PIN_5);
        rx_buffer[0]=0;
        rx_buffer[1]=0;
      }
     HAL_Delay(1000);
  }
}
